<!DOCTYPE html>
<html lang="en" >
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-163408633-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-163408633-2');
    </script>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PF58PDC');</script>
    <!-- End Google Tag Manager -->
    <title>Course Maker</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="apple-mobile-web-app-title" content="SOCRATHEMATICS">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script>
    <script src="https://kit.fontawesome.com/30a0cbcf71.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.2/dist/FileSaver.min.js"></script>
    <link rel="stylesheet" href="/codemirror-5.56.0/lib/codemirror.css">
    <link rel="stylesheet" href="/codemirror-5.56.0/theme/y-cust.css">
    <script src="/codemirror-5.56.0/lib/codemirror.js"></script>
    <script src="/codemirror-5.56.0/addon/selection/selection-pointer.js"></script>
    <script src="/codemirror-5.56.0/addon/selection/active-line.js"></script>
    <script src="/codemirror-5.56.0/addon/edit/closebrackets.js"></script>
    <script src="/codemirror-5.56.0/mode/xml/xml.js"></script>
    <script src="/codemirror-5.56.0/mode/javascript/javascript.js"></script>
    <script src="/codemirror-5.56.0/mode/css/css.js"></script>
    <script src="/codemirror-5.56.0/mode/vbscript/vbscript.js"></script>
    <script src="/codemirror-5.56.0/mode/htmlmixed/htmlmixed.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jaames/iro"></script>
    <link rel="icon" href="/favicon.png">
    <link rel="stylesheet" href="/fonts.css">
    <link rel="stylesheet" href="/header.css">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/mathquill-0.10.1/mathquill.css"/>
    <script src="/mathquill-0.10.1/mathquill.js"></script>
    <script src="/mousetrap.min.js"></script>
    <script>
        var MQ = MathQuill.getInterface(2);

    </script>
    <!--mathjax-->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {inlineMath: [['$','$'],['\\(','\\)']]}
    });
    MathJax.Hub.Queue(function () {
      document.getElementById("toggle").disabled = false;
    });
    </script>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML"></script>
    <script>
        var isTypeset = true;
        function ToggleMJ(button=null) {
            //button.disabled = true;
            //button.value = (isTypeset ? "Typeset Math" : "Remove Typeset Math");
            MathJax.Hub.Queue(
                (isTypeset ? RemoveMJ : ["Typeset",MathJax.Hub]),
                function () {
                    isTypeset = !isTypeset;
                    //button.disabled = false;
                }
            );
        }
        function RemoveMJ() {
            var jax = MathJax.Hub.getAllJax();
            for (var i = 0, m = jax.length; i < m; i++) {
                var tex = jax[i].originalText;
                var isDisplay = (jax[i].root.Get("display") === "block");
                if (isDisplay){ tex = "$$"+tex+"$$";} else {tex = "$"+tex+"$";}
                var script = jax[i].SourceElement();
                jax[i].Remove();
                var preview = script.previousSibling;
                if (preview && preview.className === "MathJax_Preview")
                    preview.parentNode.removeChild(preview);
                script.parentNode.insertBefore(document.createTextNode(tex),script);
                script.parentNode.removeChild(script);
            }
            isTypeset = false;
        }

    </script>
</head>

<body id="bod" onload="$(function () {
        $(`[data-toggle='tooltip']`).tooltip()
}); $(function () {
        $(`[data-toggle-second='tooltip']`).tooltip()
});
//$('.toast').toast({autohide:false});$('.toast').toast('show')
">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PF58PDC"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<script src="/wysiwyg-editor/menu.js"></script>

<script src="make.js"></script>



<!-- Modal -->
<div class="modal fade" id="dnameModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Name your Document</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="signin-form">
                    <div class="form-group">
                        <label class="" for="docname">How should we save your document?</label>
                        <input class="form-control" type="text" id="docname" required />

                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="submit" id="dnamesub" class="btn btn-success">Save</button>
            </div>
        </div>
    </div>
</div>

<div class="container" id="all" style="margin-top:30px">
    <div class="row d-flex justify-content-center align-items-center">
        <!--<div class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <strong class="mr-auto">Pro Tip</strong>
                <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="toast-body">
                Copy and paste content directly from another course or website into the editor!
            </div>
        </div>-->
    </div>
    <div class="row ml-5 mb-2">

        <div class="btn-toolbar  " role="toolbar" aria-label="Toolbar with button groups">
            <div class="input-group mr-3">

                <input class="form-control form-control-lg no-hl" type="text" id="docnameflat"  />

            </div>
            <div class="btn-group float-right " role="group" aria-label="First group">
                <button class="btn btn-info"
                        onclick="ToggleMJ(this)" id="toggle"
                >$x^2$</button>
                <button class="btn btn-light" data-toggle="tooltip" data-placement="top" title="Edit HTML" onclick="
                let editor=document.getElementById('content');editor.classList.toggle('showCodeEditor');
        if( editor.classList.contains('showCodeEditor') ) {
            RemoveMJ();
        myCodeMirror.setValue(editor.innerHTML);
        } else {
        editor.innerHTML = myCodeMirror.getValue();
        };
let sideeditor=document.getElementById('side');sideeditor.classList.toggle('showCodeEditor');
        if( sideeditor.classList.contains('showCodeEditor') ) {
        yourCodeMirror.setValue(sideeditor.innerHTML);
        } else {
        sideeditor.innerHTML = yourCodeMirror.getValue();
        }">&lt;&gt;</button>
                <button class="btn btn-light " id="copyAll"  data-trigger="manual" data-toggle="tooltip" title="Copied!">
                    <i class="far fa-clipboard"></i>
                </button>
                <button class="btn btn-light" data-toggle="tooltip" data-placement="top" title="Preview Course" onclick="preview()">
                    <i class="fas fa-eye"></i>
                </button>
                <button class="btn btn-light" data-toggle="tooltip" data-placement="top" title="Add Problem" onclick="addProb()">
                    ?
                </button>
                <button class="btn btn-light" data-toggle="tooltip" data-placement="top" title="Save .html" onclick="save()">
                    <i class="fas fa-file-download"></i>
                </button>
                <button class="btn auth btn-light" data-toggle-second="tooltip" data-placement="top" title="Save to my files" onclick="
upload(initialName)">
                    <i class="fas fa-cloud-upload-alt"></i>
                </button>
            </div>
        </div>
    </div>
    <div class="row ml-5 mb-5">
        <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">

            <div class="btn-group mr-2" role="group" aria-label="Third group">
                <button class="btn btn-light" data-toggle="tooltip" data-placement="bottom" data-html="true" title="Undo (&#8984;Z)"
                        onclick="document.execCommand('undo')"
                ><i class="fas fa-undo"></i></button>
                <button class="btn btn-light"
                        onclick="document.execCommand('redo')" data-toggle="tooltip" data-placement="bottom" data-html="true" title="Redo (&#8984;⇧Z)"
                ><i class="fas fa-redo"></i></button>

            </div>
            <div class="btn-group mr-2" role="group">
                <button class="btn btn-light dropdown-toggle" data-toggle-second="tooltip" data-placement="top" title="Styles" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <a id="headingInd">Normal Text</a>
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <a class="dropdown-item text-darl cursor-pointer btn" onclick="document.execCommand('formatBlock',false,'<h1>')"><h1>Heading 1</h1></a>
                    <a class="dropdown-item text-dark cursor-pointer btn" onclick="document.execCommand('formatBlock',false,'<h2>')"><h2>Heading 2</h2></a>
                    <a class="dropdown-item text-dark cursor-pointer btn" onclick="document.execCommand('formatBlock',false,'<h3>')"><h3>Heading 3</h3></a>
                    <a class="dropdown-item text-dark cursor-pointer btn" onclick="document.execCommand('formatBlock',false,'<h4>')"><h4>Heading 4</h4></a>
                    <a class="dropdown-item text-dark cursor-pointer btn" onclick="document.execCommand('formatBlock',false,'<h5>')"><h5>Heading 5</h5></a>
                    <a class="dropdown-item text-dark cursor-pointer btn" onclick="document.execCommand('formatBlock',false,'<h6>')"><h6>Heading 6</h6></a>
                    <a class="dropdown-item text-dark cursor-pointer btn" onclick="document.execCommand('formatBlock',false,'<p>')">Normal Text</a>
                </div>
        <button class="btn btn-light" data-toggle="tooltip" data-placement="bottom" data-html="true" title="Bold (&#8984;B)"
                onclick="document.execCommand('bold')"
        ><i class="fas fa-bold"></i></button>

                <script>Mousetrap.bind('mod+b', function() { document.execCommand('bold'); });</script>
        <button class="btn btn-light"
                onclick="document.execCommand('italic')" data-toggle="tooltip" data-placement="bottom" data-html="true" title="Italic (&#8984;I)"
        ><i class="fas fa-italic"></i></button>
                <script>Mousetrap.bind('mod+i', function() { document.execCommand('italic'); });</script>
        <button class="btn btn-light"
                onclick="document.execCommand('underline')" data-toggle="tooltip" data-placement="bottom" title="Underline (&#8984;U)"
        ><i class="fas fa-underline"></i></button>
                <script>Mousetrap.bind('mod+u', function() { document.execCommand('underline'); });</script>
        <button class="btn btn-light"
                onclick="document.execCommand('strikethrough')" data-toggle="tooltip" data-placement="bottom" data-html="true" title="Strikethrough (&#8984;⇧Z)"
        ><i class="fas fa-strikethrough"></i></button>
                <script>Mousetrap.bind('mod+shift+z', function() { document.execCommand('strikethrough'); });</script>
                <div class="btn-group" role="group" id="tcolordiv">
                <button class="btn btn-light dropdown-toggle" aria-haspopup="true" aria-expanded="false" data-toggle-second="tooltip" data-placement="top" title="Text color"

                ><a id="colorInd" style="text-decoration: underline;
  text-decoration-color: black;text-decoration-style: double;"><b>A</b></a></button>
                    <div class="dropdown-menu">
                        <div class="wheel ml-1" id="colorWheel"></div>
                    </div>
                </div>
                <div class="btn-group" role="group" id="hcolordiv">
                    <button class="btn btn-light dropdown-toggle" aria-haspopup="true" aria-expanded="false" data-toggle-second="tooltip" data-placement="top" title="Highlight color"

                    ><a  ><i id="hcolorInd" style="" class="fas fa-highlighter"></i></a></button>
                    <div class="dropdown-menu">
                        <div class="wheel ml-1" id="hcolorWheel"></div>
                    </div>
                </div>
        <button class="btn btn-light" data-toggle="tooltip" data-placement="bottom" title="Subscript"
                onclick="document.execCommand('subscript')"
        ><i class="fas fa-subscript"></i></button>
        <button class="btn btn-light"
                onclick="document.execCommand('superscript')" data-toggle="tooltip" data-placement="bottom" title="Superscript"
        ><i class="fas fa-superscript"></i></button>
            </div>
            <div class="btn-group mr-2" role="group" aria-label="Second group">
                <button class="btn btn-light" data-toggle="tooltip" data-placement="bottom" title="Insert Link (&#8984;K)"
                        onclick="const dest = prompt('Link:', '');document.execCommand('createLink', false,dest)"
                ><i class="fas fa-link"></i></button>
                <script>Mousetrap.bind('mod+k', function() { const dest = prompt('Link:', '');document.execCommand('createLink', false,dest); });</script>
                <button class="btn btn-light " data-toggle="tooltip" data-placement="bottom" title="Unlink"
                        onclick="document.execCommand('unlink')"
                ><i class="fas fa-unlink"></i></button></div>

            <div class="btn-group text-align-group mr-2" role="group" aria-label="Second group">
                <button class="btn btn-light"
                        onclick="document.execCommand('justifyLeft');showTag()" data-toggle="tooltip" data-placement="bottom" title="Left align"
                ><i class="fas fa-align-left"></i></button>
                <button class="btn btn-light"
                        onclick="document.execCommand('justifyCenter');showTag()" data-toggle="tooltip" data-placement="bottom" title="Center align"
                ><i class="fas fa-align-center"></i></button>
                <button class="btn btn-light"
                        onclick="document.execCommand('justifyRight');showTag()" data-toggle="tooltip" data-placement="bottom" title="Right align"
                ><i class="fas fa-align-right "></i></button>
                <button class="btn btn-light"
                        onclick="document.execCommand('justifyFull');showTag()" data-toggle="tooltip" data-placement="bottom" title="Justify"
                ><i class="fas fa-align-justify"></i></button>

            </div>
            <div class="btn-group mr-2" role="group" aria-label="Second group">
        <button class="btn btn-light "
                onclick="document.execCommand('insertUnorderedList');showTag()" data-toggle="tooltip" data-placement="bottom" title="Bulleted list"
        ><i class="fas fa-list-ul"></i></button>
        <button class="btn btn-light"
                onclick="document.execCommand('insertOrderedList');showTag()" data-toggle="tooltip" data-placement="bottom" title="Numbered list"
        ><i class="fas fa-list-ol"></i></button>
                <button class="btn btn-light"
                        onclick="document.execCommand('indent');showTag()" data-toggle="tooltip" data-placement="bottom" title="Increase indent"
                ><i class="fas fa-indent"></i></button>
                <button class="btn btn-light"
                        onclick="document.execCommand('outdent');showTag()" data-toggle="tooltip" data-placement="bottom" title="Decrease indent"
                ><i class="fas fa-outdent"></i></button>
        </div>
            <div class="btn-group mr-2" role="group">
                <button class="btn btn-light mb-1" onclick="document.execCommand('removeFormat')" data-toggle="tooltip" data-placement="bottom" title="Clear formatting">
                    <i class="fas fa-remove-format"></i>
                </button>
            </div>
        </div></div>
    <div class="row" id="main">
        <div class="col-sm-1">
            <div class=" btn-group-vertical">
            <button class="btn btn-light text-success" onclick="document.querySelector('#main nav:not(#bottomNav)').innerHTML += `<li  class='nav-item'>
            <a class='nav-link my-1 mousetrap' contentEditable href=''>Nav</a>
            </li>`">
                +
            </button>
            <button class="btn btn-light text-success" onclick="const n = window.getSelection().focusNode.parentNode.parentNode; if (document.querySelector('#main nav:not(#bottomNav)').contains(n) && document.querySelector('#main nav:not(#bottomNav)')!= n){n.remove()}">
                &times;
            </button>
            <button class="btn btn-success" onclick="const listId = window.getSelection().focusNode.parentNode;
                  $(listId).toggleClass('active');">
            A
        </button>
            <button class="btn btn-light text-muted" onclick="const listId = window.getSelection().focusNode.parentNode;
                  $(listId).toggleClass('disabled');">
                D
            </button>
            <button class="btn btn-light" onclick="const listId = window.getSelection().focusNode.parentNode;
                  $(listId).toggleClass('ml-3');">
                &rarr;
            </button>
            </div>
        </div>
        <div id="side" class="col-sm-3"><h3 class="mousetrap" contentEditable>Topic</h3>
<p contentEditable class="mousetrap">Topics within Topic</p>
<nav class="nav nav-pills flex-column" >
    <li  class="nav-item ">
        <a contentEditable class="nav-link my-1" href="">Home</a>
    </li>
    <li class="nav-item">
        <a class="nav-link my-1 mousetrap"  href="" contenteditable="">Food</a>
    </li><li class="nav-item">
    <a class="nav-link my-1 ml-3 mousetrap active" href="" contenteditable="">Pizza</a>
</li><li class="nav-item">
    <a class="nav-link my-1 ml-3 mousetrap disabled" href="" contenteditable="">Cake</a>
</li>
</nav><hr class="d-sm-none">
</div>
        <div id="sideEditorC" class="mousetrap"><textarea id="sideEditor" class=" form-control"></textarea></div>

        <style>
            #side.showCodeEditor{
                display: none;
            }
            #side ~ #sideEditorC{ display: none; }
            #side.showCodeEditor ~ #sideEditorC{ display: block; }
        </style>
        <div class="col-sm-8" id="bod2" >

            <div>

<div id="content"><h2 contentEditable class="mousetrap" id="ctitle">How to <strike>make</strike> <font color="#c73c55">get</font> a Pizza</h2>
<div contentEditable class="mousetrap" id="mainContent" ><p>Here's a short course on how to <strike>make</strike> <font color="#c73c55">get</font> a pizza. Enjoy!</p>
 <h4>Ingredients</h4>
 <ol>
     <li> $2\ c$ Dough</li>
     <li>$1 \frac{1}{2}\ c$ Tomato Sauce</li>
     <li>Some cheese</li>
     <li>Toppings (optional)</li>
     <li>Diamond ring (very important)</li>
 </ol>
<h4>Preparation</h4>
<ol>
    <li>Go to a bank and sell all of the above items.</li>
    <li>Use the money to buy a pizza from Pizza Hut.</li>
</ol>
</div>
    <div style="height:7vh"></div>
    <nav  id="bottomNav">
        <ul class="pagination justify-content-center">
            <li class="page-item"><a class="page-link" contentEditable="" href="">« Food</a></li>
            <li class="page-item active"><a class="page-link" href="">•</a></li>
            <li class="page-item disabled"><a class="page-link " contentEditable="" href="">Cake »</a></li>
        </ul>
    </nav>
</div>
                <div id="codeEditorC" style="padding-left:2rem !important;" class=" mb-5 ml-5 mt-3 mousetrap"><textarea id="codeEditor" class="form-control"></textarea></div>

                <style>
                    #content.showCodeEditor{
                        display: none;
                    }
                    :focus {outline:none;} ::-moz-focus-inner {border:0;}

                    /*.showCodeEditor ~ #ctitle{
                        padding-left: 3rem !important;
                        margin-left: 3rem !important;
                    }*/
                    #content ~ #codeEditorC{ display: none; }
                    #content.showCodeEditor ~ #codeEditorC{ display: block; }
                    .disabled{
                        pointer-events: auto !important;
                    }
                    .disabled:focus-within,.disabled:focus,.disabled:hover{
                        color: var(--grey) !important;
                    }
                    :any-link{
                        color:var(--main);
                    }
                    :any-link:hover{
                        color:var(--main-dark);
                    }
                    .btn-light{
                        border-color: var(--grey6);
                        color: var(--text);
                    }
                    .toast,.toast-body,.toast-header{
                        background-color: var(--grey6);
                    }

                </style>


            </div>
        </div>
    </div>
</div>
<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

<script  src="https://www.gstatic.com/firebasejs/7.17.1/firebase-analytics.js"></script>
<script  src="https://www.gstatic.com/firebasejs/7.17.1/firebase-auth.js"></script>
<script  src="https://www.gstatic.com/firebasejs/7.17.1/firebase-firestore.js"></script>


<script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
        apiKey: "AIzaSyBIo2sk5KS9CId37JmgIdsLtAQ1bsbwB_E",
        authDomain: "socrathematics-cms.firebaseapp.com",
        databaseURL: "https://socrathematics-cms.firebaseio.com",
        projectId: "socrathematics-cms",
        storageBucket: "socrathematics-cms.appspot.com",
        messagingSenderId: "519917689116",
        appId: "1:519917689116:web:d554fe30bf72534c1402d9",
        measurementId: "G-45XWG0GJN0"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();
    const auth=firebase.auth();
    const db = firebase.firestore();
</script>
<script src="/wysiwyg-editor/auth/auth.js"></script>
<script>

    const cmConfig = {
        lineNumbers: true,
        mode: "htmlmixed",
        autoCloseBrackets: true,
        matchBrackets:true,
        autoRefresh:true,
        theme:"y-cust",
        styleActiveLine:true
    };
    var myCodeMirror = CodeMirror.fromTextArea(document.querySelector("#codeEditor"), cmConfig);
var yourCodeMirror = CodeMirror.fromTextArea(document.querySelector("#sideEditor"), cmConfig);
yourCodeMirror.setSize(1000, 400);
myCodeMirror.setSize(1000, 600);
myCodeMirror.refresh();
yourCodeMirror.refresh();

Mousetrap.prototype.stopCallback = function () {
    return false;
}</script>
<script src="benice.js"></script>
</body>
</html>
