<!DOCTYPE html>
<html lang="en" >
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-163408633-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-163408633-2');
    </script>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PF58PDC');</script>
    <!-- End Google Tag Manager -->
    <title>Course Maker</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="apple-mobile-web-app-title" content="SOCRATHEMATICS">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script>
    <link rel="stylesheet" href="/codemirror-5.56.0/lib/codemirror.css">
    <link rel="stylesheet" href="/codemirror-5.56.0/theme/yonce.min.css">
    <script src="/codemirror-5.56.0/lib/codemirror.js"></script>
    <script src="/codemirror-5.56.0/addon/selection/selection-pointer.js"></script>
    <script src="/codemirror-5.56.0/addon/hint/show-hint.js"></script>
    <script src="/codemirror-5.56.0/addon/hint/xml-hint.js"></script>
    <script src="/codemirror-5.56.0/addon/hint/css-hint.js"></script>
    <script src="/codemirror-5.56.0/addon/hint/javascript-hint.js"></script>
    <script src="/codemirror-5.56.0/addon/hint/html-hint.js"></script>
    <link rel="stylesheet" href="/codemirror-5.56.0/addon/hint/show-hint.css"/>
    <script src="/codemirror-5.56.0/mode/xml/xml.js"></script>
    <script src="/codemirror-5.56.0/mode/javascript/javascript.js"></script>
    <script src="/codemirror-5.56.0/mode/css/css.js"></script>
    <script src="/codemirror-5.56.0/mode/vbscript/vbscript.js"></script>
    <script src="/codemirror-5.56.0/mode/htmlmixed/htmlmixed.js"></script>
    <link rel="icon" href="/favicon.png">
    <link rel="stylesheet" href="/fonts.css">
    <link rel="stylesheet" href="/header.css">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/mathquill-0.10.1/mathquill.css"/>
    <script src="/mathquill-0.10.1/mathquill.js"></script>
    <script src="/mousetrap.min.js"></script>
    <script>
        var MQ = MathQuill.getInterface(2);

    </script>
    <!--mathjax-->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {inlineMath: [['$','$'],['\\(','\\)']]}
    });
    MathJax.Hub.Queue(function () {
      document.getElementById("toggle").disabled = false;
    });
    </script>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML"></script>
    <script>
        var isTypeset = true;
        function ToggleMJ(button) {
            button.disabled = true;
            button.value = (isTypeset ? "Typeset Math" : "Remove Typeset Math");
            MathJax.Hub.Queue(
                (isTypeset ? RemoveMJ : ["Typeset",MathJax.Hub]),
                function () {
                    isTypeset = !isTypeset;
                    button.disabled = false;
                }
            );
        }
        function RemoveMJ() {
            var jax = MathJax.Hub.getAllJax();
            for (var i = 0, m = jax.length; i < m; i++) {
                var tex = jax[i].originalText;
                var isDisplay = (jax[i].root.Get("display") === "block");
                if (isDisplay){ tex = "$$"+tex+"$$";} else {tex = "$"+tex+"$";}
                var script = jax[i].SourceElement();
                jax[i].Remove();
                var preview = script.previousSibling;
                if (preview && preview.className === "MathJax_Preview")
                    preview.parentNode.removeChild(preview);
                script.parentNode.insertBefore(document.createTextNode(tex),script);
                script.parentNode.removeChild(script);
            }
        }
    </script>
</head>

<body id="bod">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PF58PDC"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<script src="/menu.js"></script>

<script src="make.js">
</script>

<div class="container" style="margin-top:30px">
    <div class="row ml-5 mb-5"><button class="btn btn-info mr-1"
                             onclick="ToggleMJ(this)" id="toggle"
    >$x^2$</button>
        <button class="btn btn-light" onclick="let editor=document.getElementById('mainContent');editor.classList.toggle('showCodeEditor');
        if( editor.classList.contains('showCodeEditor') ) {
        myCodeMirror.setValue(editor.innerHTML);
        } else {
        editor.innerHTML = myCodeMirror.getValue();
        };
let sideeditor=document.getElementById('side');sideeditor.classList.toggle('showCodeEditor');
        if( sideeditor.classList.contains('showCodeEditor') ) {
        yourCodeMirror.setValue(sideeditor.innerHTML);
        } else {
        sideeditor.innerHTML = yourCodeMirror.getValue();
        }">&lt;&gt;</button>
        <button class="btn btn-dark text-light mr-1"
                onclick="document.execCommand('bold')"
        ><b>B</b></button>
        <button class="btn btn-dark text-light mr-1"
                onclick="document.execCommand('italic')"
        ><i>I</i></button>
        <div class="dropdown">
            <button class="btn btn-dark dropdown-toggle mr-1" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                H
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item cursor-pointer btn text-dark" onclick="document.execCommand('formatBlock',false,'<h4>')">H4</a>
                <a class="dropdown-item text-dark cursor-pointer btn" onclick="document.execCommand('formatBlock',false,'<h5>')">H5</a>
                <a class="dropdown-item text-dark cursor-pointer btn" onclick="document.execCommand('formatBlock',false,'<h6>')">H6</a>
            </div>
        </div>
        <button class="btn btn-dark text-light mr-1"
                onclick="const dest = prompt('Link:', '');document.execCommand('createLink', false,dest)"
        >&#128279;</button>
        <button class="btn btn-warning mr-1" id="copyAll"  data-trigger="manual" data-toggle="tooltip" title="Copied!">
            &#128203;
        </button>
        <button class="btn btn-light mr-1" onclick="preview()">
            &#128065
        </button>
        <button class="btn btn-light mr-1" onclick="addProb()">
            ?
        </button>
        </div>
    <div class="row" id="main">
        <div class="col-sm-1">
            <button class="btn btn-light text-success mb-1" onclick="document.querySelector('#main nav:not(#bottomNav)').innerHTML += `<li  class='nav-item'>
            <a class='nav-link my-1' contentEditable href=''>Nav</a>
            </li>`">
                +
            </button>
            <button class="btn btn-light text-success mb-1" onclick="const n = window.getSelection().focusNode.parentNode.parentNode; if (document.querySelector('#main nav:not(#bottomNav)').contains(n) && document.querySelector('#main nav:not(#bottomNav)')!= n){n.remove()}">
                &times;
            </button>
            <button class="btn btn-success mb-1" onclick="const listId = window.getSelection().focusNode.parentNode;
                  $(listId).toggleClass('active');">
            A
        </button>
            <button class="btn btn-light text-muted mb-1" onclick="const listId = window.getSelection().focusNode.parentNode;
                  $(listId).toggleClass('disabled');">
                D
            </button>
            <button class="btn btn-light mb-1" onclick="const listId = window.getSelection().focusNode.parentNode;
                  $(listId).toggleClass('ml-3');">
                &rarr;
            </button></div>
        <div id="side" class="col-sm-3"><h3 contentEditable>Topic</h3>
<p contentEditable>Topics within Topic</p>
<nav class="nav nav-pills flex-column" >
    <li  class="nav-item ">
        <a contentEditable class="nav-link my-1" href="">Home</a>
    </li>
</nav><hr class="d-sm-none">
</div>
        <div id="sideEditorC" class=""><textarea id="sideEditor" class="form-control"></textarea></div>

        <style>
            #side.showCodeEditor{
                display: none;
            }
            #side ~ #sideEditorC{ display: none; }
            #side.showCodeEditor ~ #sideEditorC{ display: block; }
        </style>
        <div class="col-sm-8" id="bod2" >

            <div>
                <h2 contentEditable id="ctitle">Course Title</h2>
                <div contentEditable id="mainContent" ><p>The content of the course</p></div>
                <div id="codeEditorC" class="ml-5 pl-4"><textarea id="codeEditor" class="form-control"></textarea></div>

                <style>
                    #mainContent.showCodeEditor{
                        display: none;
                    }

                    .showCodeEditor ~ #ctitle{
                        padding-left: 3rem !important;
                        margin-left: 3rem !important;
                    }
                    #mainContent ~ #codeEditorC{ display: none; }
                    #mainContent.showCodeEditor ~ #codeEditorC{ display: block; }
                    .disabled{
                        pointer-events: auto !important;
                    }
                    .disabled:focus-within,.disabled:focus,.disabled:hover{
                        color: var(--grey) !important;
                    }
                </style>

<div style="height:7vh"></div>
                <nav  id="bottomNav">
                    <ul class="pagination justify-content-center">
                        <li class="page-item"><a class="page-link" contentEditable="" href="">« Previous</a></li>
                        <li class="page-item active"><a class="page-link" href="">•</a></li>
                        <li class="page-item"><a class="page-link" contentEditable="" href="">Next »</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
</div>
<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.15.0/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

<script  src="https://www.gstatic.com/firebasejs/7.15.1/firebase-analytics.js"></script>
<script  src="https://www.gstatic.com/firebasejs/7.15.0/firebase-auth.js"></script>
<script  src="https://www.gstatic.com/firebasejs/7.15.0/firebase-firestore.js"></script>

<script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
        apiKey: "AIzaSyA6bA3PlHiFGHB1CIWobuBUsEa9IQ7AL3I",
        authDomain: "socrathematics.firebaseapp.com",
        databaseURL: "https://socrathematics.firebaseio.com",
        projectId: "socrathematics",
        appId: "1:809638401187:web:9608adf73f25ced6d45b16",
        measurementId: "G-2QEQZPCEZR"

    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();

    const auth=firebase.auth();
    const db = firebase.firestore();
</script>
<script src="/auth/auth.js"></script>
<script>var myCodeMirror = CodeMirror.fromTextArea(document.querySelector("#codeEditor"), {
    lineNumbers: true,
    mode: "htmlmixed",
    autoRefresh:true,
theme:"yonce"
});
var yourCodeMirror = CodeMirror.fromTextArea(document.querySelector("#sideEditor"), {
    lineNumbers: true,
    mode: "htmlmixed",
    autoRefresh:true,
    theme:"yonce"
});
yourCodeMirror.setSize(900, 400);
myCodeMirror.setSize(900, 400);
myCodeMirror.refresh();
yourCodeMirror.refresh();
Mousetrap.bind('ctrl+space', function(e) {
    myCodeMirror.showHint();
    return false;
});
Mousetrap.prototype.stopCallback = function () {
    return false;
}</script>
</body>
</html>
